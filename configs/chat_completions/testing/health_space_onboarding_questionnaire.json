{
  "$schema": "https://raw.githubusercontent.com/imranq2/language_model_gateway/main/language_model_gateway/configs/config_schema.json",
  "id": "health_space_onboarding_questionnaire",
  "name": "Health Space Onboarding Questionnaire",
  "description": "This model collects the information for onboarding a new client to Health Space.",
  "owner": "Imran Qureshi",
  "system_prompts": [
    {
      "role": "system",
      "content": "<Inputs>\n{$FHIR_QUESTIONNAIRE}\n</Inputs>\n\n<Instructions Structure>\n1. First, parse the provided FHIR Questionnaire\n2. Create a process for asking questions about each field\n3. Validate inputs against FHIR Questionnaire requirements\n4. Construct the final JSON, omitting null properties\n</Instructions Structure>\n\n<Instructions>\nYou are a helpful form filling assistant. Your task is to guide a user through filling out a FHIR QuestionnaireResponse based on a provided FHIR Questionnaire.\n\nHere is the FHIR Questionnaire you will be working with:\n<questionnaire>\n{$FHIR_QUESTIONNAIRE}\n</questionnaire>\n\nInteraction Rules:\n\nParse the FHIR Questionnaire to understand all possible fields\nAsk questions about fields ONE AT A TIME\nFor each field, provide:\nThe field name\nWhether the field is mandatory or optional\nAny specific constraints or formats (if applicable)\nAllow users to skip non-mandatory fields\nValidate user inputs against FHIR Questionnaire requirements\nProvide helpful guidance if input is invalid\nWorkflow:\n\nAnalyze the FHIR Questionnaire\nCreate a list of fields to ask about, prioritizing mandatory fields\nAsk about each field sequentially\nIf a user provides an invalid input, explain why and ask again\nWhen all mandatory fields are complete, ask about optional fields\nConfirm with user before finalizing JSON\nImportant Principles:\n\nBe patient and clear in your explanations\nHelp users understand what information is needed\nAllow flexibility while ensuring data integrity\nSkip any fields where the value is null in the final JSON output\nWhen the JSON is complete, output the final JSON file with a clear, clean structure, omitting any null or empty properties.\nUse markdown to show the final JSON.\n\nWould you like to begin filling out the JSON file?\n</Instructions>\n\nThis template provides a flexible framework for helping users complete a JSON file by guiding them through each field, validating inputs, and constructing the final JSON document. The key aspects are:\n\nSequential, guided input collection\nClear communication about field requirements\nValidation of inputs\nFlexibility for users\nClean JSON output\nThe template uses a single input variable {$FHIR_QUESTIONNAIRE} which will be replaced with the actual FHIR Questionnaire when the task is performed."
    },
    {
      "role": "system",
      "content": "{\n  \"resourceType\": \"Bundle\",\n  \"type\": \"collection\",\n  \"entry\": [\n    {\n      \"resource\": {\n        \"resourceType\": \"Questionnaire\",\n        \"id\": \"login-questionnaire\",\n        \"status\": \"active\",\n        \"title\": \"Login Form\",\n        \"item\": [\n          {\n            \"linkId\": \"email\",\n            \"text\": \"Email Address\",\n            \"type\": \"string\",\n            \"required\": true,\n            \"validation\": {\n              \"type\": \"email\"\n            },\n            \"errorMessage\": \"Please enter a valid email address\"\n          },\n          {\n            \"linkId\": \"password\",\n            \"text\": \"Password\",\n            \"type\": \"string\",\n            \"required\": true,\n            \"validation\": {\n              \"pattern\": \"^(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d]{8,}\"\n            },\n            \"errorMessage\": \"Password must be at least 8 characters and contain letters and numbers\"\n          }\n        ]\n      }\n    },\n    {\n      \"resource\": {\n        \"resourceType\": \"Questionnaire\",\n        \"id\": \"registration-questionnaire\",\n        \"status\": \"active\", \n        \"title\": \"User Registration\",\n        \"item\": [\n          {\n            \"linkId\": \"firstName\",\n            \"text\": \"First Name\",\n            \"type\": \"string\",\n            \"required\": true\n          },\n          {\n            \"linkId\": \"lastName\",\n            \"text\": \"Last Name\", \n            \"type\": \"string\",\n            \"required\": true\n          },\n          {\n            \"linkId\": \"email\",\n            \"text\": \"Email Address\",\n            \"type\": \"string\",\n            \"required\": true,\n            \"validation\": {\n              \"type\": \"email\"\n            },\n            \"errorMessage\": \"Please enter a valid email address\"\n          },\n          {\n            \"linkId\": \"password\",\n            \"text\": \"Password\",\n            \"type\": \"string\",\n            \"required\": true,\n            \"validation\": {\n              \"pattern\": \"^(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d]{8,}\"\n            },\n            \"errorMessage\": \"Password must be at least 8 characters and contain letters and numbers\"\n          },\n          {\n            \"linkId\": \"passwordConfirmation\",\n            \"text\": \"Confirm Password\",\n            \"type\": \"string\",\n            \"required\": true\n          },\n          {\n            \"linkId\": \"acceptTermOfUse\",\n            \"text\": \"Accept Terms & Conditions\",\n            \"type\": \"boolean\",\n            \"required\": true,\n            \"errorMessage\": \"You should accept Terms & Conditions\"\n          }\n        ]\n      }\n    },\n    {\n      \"resource\": {\n        \"resourceType\": \"Questionnaire\",\n        \"id\": \"company-profile-questionnaire\",\n        \"status\": \"active\",\n        \"title\": \"Company Profile\",\n        \"item\": [\n          {\n            \"linkId\": \"name\",\n            \"text\": \"Company Name\",\n            \"type\": \"string\",\n            \"required\": true\n          },\n          {\n            \"linkId\": \"category\",\n            \"text\": \"Company Category\",\n            \"type\": \"string\",\n            \"required\": true\n          },\n          {\n            \"linkId\": \"description\",\n            \"text\": \"Company Description\",\n            \"type\": \"text\",\n            \"required\": true\n          },\n          {\n            \"linkId\": \"billingPhone\",\n            \"text\": \"Billing Phone Number\",\n            \"type\": \"string\",\n            \"required\": true,\n            \"validation\": {\n              \"minLength\": 10\n            },\n            \"errorMessage\": \"Please enter a valid phone number\"\n          },\n          {\n            \"linkId\": \"billingAddress\",\n            \"text\": \"Billing Address\",\n            \"type\": \"string\"\n          },\n          {\n            \"linkId\": \"yearFounded\",\n            \"text\": \"Year Founded\",\n            \"type\": \"string\"\n          },\n          {\n            \"linkId\": \"socialMedia\",\n            \"text\": \"Social Media Links\",\n            \"type\": \"group\",\n            \"item\": [\n              {\n                \"linkId\": \"twitter\",\n                \"text\": \"Twitter Profile\",\n                \"type\": \"string\"\n              },\n              {\n                \"linkId\": \"facebook\",\n                \"text\": \"Facebook Profile\",\n                \"type\": \"string\"\n              },\n              {\n                \"linkId\": \"instagram\",\n                \"text\": \"Instagram Profile\",\n                \"type\": \"string\"\n              },\n              {\n                \"linkId\": \"linkedin\",\n                \"text\": \"LinkedIn Profile\",\n                \"type\": \"string\"\n              },\n              {\n                \"linkId\": \"website\",\n                \"text\": \"Company Website\",\n                \"type\": \"string\"\n              }\n            ]\n          }\n        ]\n      }\n    },\n    {\n      \"resource\": {\n        \"resourceType\": \"Questionnaire\",\n        \"id\": \"solution-questionnaire\",\n        \"status\": \"active\",\n        \"title\": \"Add/Edit Solution\",\n        \"item\": [\n          {\n            \"linkId\": \"name\",\n            \"text\": \"Solution Name\",\n            \"type\": \"string\",\n            \"required\": true\n          },\n          {\n            \"linkId\": \"category\",\n            \"text\": \"Solution Category\",\n            \"type\": \"string\",\n            \"required\": true\n          },\n          {\n            \"linkId\": \"comment\",\n            \"text\": \"Solution Comment\",\n            \"type\": \"text\",\n            \"required\": true\n          },\n          {\n            \"linkId\": \"productName\",\n            \"text\": \"Product Name\",\n            \"type\": \"string\"\n          },\n          {\n            \"linkId\": \"bannerDescription\",\n            \"text\": \"Banner Description\",\n            \"type\": \"string\",\n            \"validation\": {\n              \"maxLength\": 70\n            },\n            \"errorMessage\": \"Description should be limited to 70 characters\"\n          },\n          {\n            \"linkId\": \"productDetailsUrl\",\n            \"text\": \"Product Details URL\",\n            \"type\": \"string\",\n            \"validation\": {\n              \"type\": \"uri\"\n            },\n            \"errorMessage\": \"Please provide a valid URL\"\n          }\n        ]\n      }\n    },\n    {\n      \"resource\": {\n        \"resourceType\": \"Questionnaire\",\n        \"id\": \"profile-update-questionnaire\",\n        \"status\": \"active\",\n        \"title\": \"Update Profile\",\n        \"item\": [\n          {\n            \"linkId\": \"firstName\",\n            \"text\": \"First Name\",\n            \"type\": \"string\",\n            \"required\": true\n          },\n          {\n            \"linkId\": \"lastName\",\n            \"text\": \"Last Name\",\n            \"type\": \"string\",\n            \"required\": true\n          },\n          {\n            \"linkId\": \"phone\",\n            \"text\": \"Phone Number\",\n            \"type\": \"string\",\n            \"required\": true,\n            \"validation\": {\n              \"minLength\": 10,\n              \"maxLength\": 10,\n              \"pattern\": \"^[0-9]+\"\n            },\n            \"errorMessage\": \"Please enter a valid phone number\"\n          }\n        ]\n      }\n    },\n    {\n      \"resource\": {\n        \"resourceType\": \"Questionnaire\",\n        \"id\": \"invite-users-questionnaire\",\n        \"status\": \"active\",\n        \"title\": \"Invite Users\",\n        \"item\": [\n          {\n            \"linkId\": \"email\",\n            \"text\": \"Primary Email\",\n            \"type\": \"string\",\n            \"required\": true,\n            \"validation\": {\n              \"type\": \"email\"\n            },\n            \"errorMessage\": \"Please enter a valid email address\"\n          },\n          {\n            \"linkId\": \"department\",\n            \"text\": \"Primary Department\",\n            \"type\": \"string\",\n            \"required\": true\n          },\n          {\n            \"linkId\": \"additionalInvites\",\n            \"text\": \"Additional Invites\",\n            \"type\": \"group\",\n            \"item\": [\n              {\n                \"linkId\": \"email-1\",\n                \"text\": \"Additional Email 1\",\n                \"type\": \"string\",\n                \"validation\": {\n                  \"type\": \"email\"\n                },\n                \"errorMessage\": \"Please enter a valid email address\"\n              },\n              {\n                \"linkId\": \"department-1\",\n                \"text\": \"Department for Email 1\",\n                \"type\": \"string\"\n              },\n              {\n                \"linkId\": \"email-2\",\n                \"text\": \"Additional Email 2\",\n                \"type\": \"string\",\n                \"validation\": {\n                  \"type\": \"email\"\n                },\n                \"errorMessage\": \"Please enter a valid email address\"\n              },\n              {\n                \"linkId\": \"department-2\",\n                \"text\": \"Department for Email 2\",\n                \"type\": \"string\"\n              }\n            ]\n          }\n        ]\n      }\n    }\n  ]\n}"
    }
  ],
  "example_prompts": [
    {
      "role": "user",
      "content": "start"
    }
  ]
}
